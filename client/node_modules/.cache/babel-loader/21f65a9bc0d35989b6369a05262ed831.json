{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lis10\\\\OneDrive\\\\Desktop\\\\web development\\\\movies-subscription-management\\\\client\\\\src\\\\components\\\\AddMovie.js\",\n    _s = $RefreshSig$();\n\nimport { Box, Button, Title, Buttons } from \"react-bulma-companion\";\nimport InputMovies from \"./InputMovies\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { getAllMovies, movieAddition } from \"../store/movies\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport NavbarMovies from \"./NavbarMovies\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddMovie = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const location = useLocation();\n  useEffect(() => {\n    dispatch(getAllMovies());\n    createMoviesCheck();\n  }, [dispatch]);\n  const permissions = useSelector(state => state.movies.moviesPermissions);\n  const [movie, setMovie] = useState({\n    name: \"\",\n    genres: [],\n    image: \"\",\n    premiered: \"\"\n  });\n\n  const createMoviesCheck = () => {\n    if (Object.keys(permissions).length !== 0) {\n      for (const property in permissions) {\n        if (property === \"Create Movies\" && permissions[property] === false) {\n          return false;\n        } else if (property === \"Create Movies\" && permissions[property] === true) {\n          return true;\n        }\n      }\n    }\n  };\n\n  const onChangeMovie = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setMovie(prevState => ({ ...prevState,\n      [name]: value\n    }));\n  };\n\n  const onChangeGenres = e => {\n    const genres = e.target.value;\n    const genresArr = genres.split(\",\");\n    setMovie(prevState => ({ ...prevState,\n      genres: genresArr\n    }));\n    console.log(movie.genres);\n  };\n\n  const onSaveMovie = () => {\n    dispatch(movieAddition(movie));\n    navigate(\"/allmovies\");\n  };\n\n  const onCancel = () => {\n    navigate(\"/allmovies\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [location.pathname === \"/addmovie\" ? /*#__PURE__*/_jsxDEV(NavbarMovies, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 44\n    }, this) : null, createMoviesCheck() === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        style: {\n          maxWidth: \"25rem\",\n          marginTop: \"2rem\",\n          marginLeft: \"auto\",\n          marginRight: \"auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          children: \"Add Movie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InputMovies, {\n          nameValue: movie.name,\n          onChangeName: onChangeMovie,\n          genresValue: movie.genres,\n          onChangeGenres: onChangeGenres,\n          imgurlValue: movie.image,\n          onChangeImg: onChangeMovie,\n          premieredValue: movie.premiered,\n          onChangePremiered: onChangeMovie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Buttons, {\n          className: \"is-flex is-justify-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: onSaveMovie,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: onCancel,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"You are not Authorized!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddMovie, \"TUV+nz8p18Bcf0/JfkmZxNtI94c=\", false, function () {\n  return [useDispatch, useNavigate, useLocation, useSelector];\n});\n\n_c = AddMovie;\nexport default AddMovie;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddMovie\");","map":{"version":3,"names":["Box","Button","Title","Buttons","InputMovies","useDispatch","useSelector","useEffect","useState","getAllMovies","movieAddition","useNavigate","useLocation","NavbarMovies","AddMovie","dispatch","navigate","location","createMoviesCheck","permissions","state","movies","moviesPermissions","movie","setMovie","name","genres","image","premiered","Object","keys","length","property","onChangeMovie","e","value","target","prevState","onChangeGenres","genresArr","split","console","log","onSaveMovie","onCancel","pathname","maxWidth","marginTop","marginLeft","marginRight"],"sources":["C:/Users/lis10/OneDrive/Desktop/web development/movies-subscription-management/client/src/components/AddMovie.js"],"sourcesContent":["import { Box, Button, Title, Buttons } from \"react-bulma-companion\";\r\nimport InputMovies from \"./InputMovies\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getAllMovies, movieAddition } from \"../store/movies\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport NavbarMovies from \"./NavbarMovies\";\r\n\r\nconst AddMovie = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  useEffect(() => {\r\n    dispatch(getAllMovies());\r\n    createMoviesCheck();\r\n  }, [dispatch]);\r\n\r\n  const permissions = useSelector((state) => state.movies.moviesPermissions);\r\n  const [movie, setMovie] = useState({\r\n    name: \"\",\r\n    genres: [],\r\n    image: \"\",\r\n    premiered: \"\",\r\n  });\r\n\r\n  const createMoviesCheck = () => {\r\n    if (Object.keys(permissions).length !== 0) {\r\n      for (const property in permissions) {\r\n        if (property === \"Create Movies\" && permissions[property] === false) {\r\n          return false;\r\n        } else if (\r\n          property === \"Create Movies\" &&\r\n          permissions[property] === true\r\n        ) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const onChangeMovie = (e) => {\r\n    const { name, value } = e.target;\r\n    setMovie((prevState) => ({\r\n      ...prevState,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const onChangeGenres = (e) => {\r\n    const genres = e.target.value;\r\n    const genresArr = genres.split(\",\");\r\n    setMovie((prevState) => ({\r\n      ...prevState,\r\n      genres: genresArr,\r\n    }));\r\n    console.log(movie.genres);\r\n  };\r\n\r\n  const onSaveMovie = () => {\r\n    dispatch(movieAddition(movie));\r\n    navigate(\"/allmovies\");\r\n  };\r\n\r\n  const onCancel = () => {\r\n    navigate(\"/allmovies\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {location.pathname === \"/addmovie\" ? <NavbarMovies /> : null}\r\n      {createMoviesCheck() === true ? (\r\n        <div>\r\n          <Box\r\n            style={{\r\n              maxWidth: \"25rem\",\r\n              marginTop: \"2rem\",\r\n              marginLeft: \"auto\",\r\n              marginRight: \"auto\",\r\n            }}\r\n          >\r\n            <Title>Add Movie</Title>\r\n            <InputMovies\r\n              nameValue={movie.name}\r\n              onChangeName={onChangeMovie}\r\n              genresValue={movie.genres}\r\n              onChangeGenres={onChangeGenres}\r\n              imgurlValue={movie.image}\r\n              onChangeImg={onChangeMovie}\r\n              premieredValue={movie.premiered}\r\n              onChangePremiered={onChangeMovie}\r\n            />\r\n            <Buttons className=\"is-flex is-justify-content-center\">\r\n              <Button onClick={onSaveMovie}>Save</Button>\r\n              <Button onClick={onCancel}>Cancel</Button>\r\n            </Buttons>\r\n          </Box>\r\n        </div>\r\n      ) : (\r\n        <div>You are not Authorized!</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddMovie;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}