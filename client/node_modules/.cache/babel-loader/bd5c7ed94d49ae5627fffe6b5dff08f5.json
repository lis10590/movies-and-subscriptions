{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { getWatchList, addToList, deleteWatchList } from \"../api/watchList\";\nconst initialWatchListState = {\n  watchList: [],\n  isLoading: false,\n  isError: false,\n  isSuccess: false,\n  message: \"\"\n};\nexport const watchListAddition = createAsyncThunk(\"watchList/addToList\", async (movie, thunkAPI) => {\n  try {\n    return await addToList(movie);\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const getList = createAsyncThunk(\"watchList\", async thunkAPI => {\n  try {\n    return await getWatchList();\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const deleteAllList = createAsyncThunk(\"watchList/delete\", async (id, thunkAPI) => {\n  try {\n    return await deleteWatchList(id);\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nconst watchListSlice = createSlice({\n  name: \"watchList\",\n  initialState: initialWatchListState,\n  reducers: {\n    reset: state => initialWatchListState\n  },\n  extraReducers: builder => {\n    builder.addCase(watchListAddition.pending, (state, action) => {\n      state.isLoading = true;\n    }).addCase(watchListAddition.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.watchList.push(action.payload);\n    }).addCase(watchListAddition.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = action.payload;\n    }).addCase(getList.pending, (state, action) => {\n      state.isLoading = true;\n    }).addCase(getList.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.watchList = action.payload;\n    }).addCase(getList.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = action.payload;\n    }).addCase(deleteAllList.pending, (state, action) => {\n      state.isLoading = true;\n    }).addCase(deleteAllList.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.watchList = initialWatchListState;\n    }).addCase(deleteAllList.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = action.payload;\n    });\n  }\n});\nexport default watchListSlice.reducer;\nexport const {\n  reset\n} = watchListSlice.actions;\nexport const selectAllWatchList = state => state.watchList.watchList;","map":{"version":3,"names":["createSlice","createAsyncThunk","getWatchList","addToList","deleteWatchList","initialWatchListState","watchList","isLoading","isError","isSuccess","message","watchListAddition","movie","thunkAPI","error","response","data","toString","rejectWithValue","getList","deleteAllList","id","watchListSlice","name","initialState","reducers","reset","state","extraReducers","builder","addCase","pending","action","fulfilled","push","payload","rejected","reducer","actions","selectAllWatchList"],"sources":["C:/Users/Lis/Documents/web development/movies-and-subscriptions/client/src/store/watchList.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { getWatchList, addToList, deleteWatchList } from \"../api/watchList\";\r\n\r\nconst initialWatchListState = {\r\n  watchList: [],\r\n  isLoading: false,\r\n  isError: false,\r\n  isSuccess: false,\r\n  message: \"\",\r\n};\r\n\r\nexport const watchListAddition = createAsyncThunk(\r\n  \"watchList/addToList\",\r\n  async (movie, thunkAPI) => {\r\n    try {\r\n      return await addToList(movie);\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString();\r\n      return thunkAPI.rejectWithValue(message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getList = createAsyncThunk(\"watchList\", async (thunkAPI) => {\r\n  try {\r\n    return await getWatchList();\r\n  } catch (error) {\r\n    const message =\r\n      (error.response && error.response.data && error.response.data.message) ||\r\n      error.message ||\r\n      error.toString();\r\n    return thunkAPI.rejectWithValue(message);\r\n  }\r\n});\r\n\r\nexport const deleteAllList = createAsyncThunk(\r\n  \"watchList/delete\",\r\n  async (id, thunkAPI) => {\r\n    try {\r\n      return await deleteWatchList(id);\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString();\r\n      return thunkAPI.rejectWithValue(message);\r\n    }\r\n  }\r\n);\r\n\r\nconst watchListSlice = createSlice({\r\n  name: \"watchList\",\r\n  initialState: initialWatchListState,\r\n  reducers: {\r\n    reset: (state) => initialWatchListState,\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n\r\n      .addCase(watchListAddition.pending, (state, action) => {\r\n        state.isLoading = true;\r\n      })\r\n\r\n      .addCase(watchListAddition.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isSuccess = true;\r\n        state.watchList.push(action.payload);\r\n      })\r\n      .addCase(watchListAddition.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isError = true;\r\n        state.message = action.payload;\r\n      })\r\n      .addCase(getList.pending, (state, action) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(getList.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isSuccess = true;\r\n        state.watchList = action.payload;\r\n      })\r\n      .addCase(getList.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isError = true;\r\n        state.message = action.payload;\r\n      })\r\n      .addCase(deleteAllList.pending, (state, action) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(deleteAllList.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isSuccess = true;\r\n        state.watchList = initialWatchListState;\r\n      })\r\n      .addCase(deleteAllList.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isError = true;\r\n        state.message = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport default watchListSlice.reducer;\r\nexport const { reset } = watchListSlice.actions;\r\nexport const selectAllWatchList = (state) => state.watchList.watchList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}